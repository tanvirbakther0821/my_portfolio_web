<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Explorer | Interactive Calculus & Probability ‚Äî Tanvir Bakther</title>
  
  <meta name="description" content="Interactive math learning tool covering functions, derivatives, optimization, and probability with hands-on exercises." />
  <meta name="author" content="Tanvir Bakther" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    /* ========================================
       UNIFIED DESIGN SYSTEM - Tanvir Bakther
       ======================================== */
    
    *{margin:0;padding:0;box-sizing:border-box}
    
    :root {
      --gold-100: #f5e6c8;
      --gold-200: #e6d5a8;
      --gold-300: #c2b49b;
      --gold-400: #ca9a4e;
      --gold-500: #ad8546;
      --gold-600: #8a6b38;
      --gold-700: #5e4211;
      
      --dark-100: #1a1512;
      --dark-200: #110a08;
      --dark-300: #0d0806;
      --dark-400: #080403;
      --dark-500: #050302;
      
      --accent-blue: #58a6ff;
      --accent-purple: #6366f1;
      --accent-green: #22c55e;
      --accent-orange: #ff8a4c;
      --accent-red: #ef4444;
      
      --text-primary: var(--gold-300);
      --text-secondary: rgba(194,180,155,0.8);
      --text-muted: rgba(194,180,155,0.6);
      --bg-primary: var(--dark-400);
      --bg-secondary: var(--dark-300);
      --border-color: rgba(94,66,17,0.4);
      --border-hover: rgba(202,154,78,0.6);
      
      --shadow-sm: 0 4px 12px rgba(0,0,0,0.2);
      --shadow-md: 0 8px 24px rgba(94,66,17,0.2);
      --shadow-lg: 0 12px 40px rgba(94,66,17,0.3);
      --glass: rgba(8,4,3,0.85);
      --glass-border: rgba(94,66,17,0.3);
      
      --radius-sm: 6px;
      --radius-md: 12px;
      --radius-lg: 20px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    html { scroll-behavior: smooth; }
    
    body {
      font-family: 'Inter', system-ui, sans-serif;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      overflow-x: hidden;
      padding-top: 80px;
    }

    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--dark-400); }
    ::-webkit-scrollbar-thumb { background: var(--gold-600); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--gold-500); }

    *:focus-visible { outline: 2px solid var(--gold-400); outline-offset: 2px; }

    a { color: var(--gold-400); text-decoration: none; transition: var(--transition); }
    a:hover { color: var(--gold-300); }

    /* NAVBAR */
    .navbar {
      position: fixed;
      inset: 0 0 auto 0;
      z-index: 1000;
      padding: 20px 50px;
      background: rgba(8,4,3,0.92);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      transition: var(--transition);
    }
    
    .navbar::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(202,154,78,0.4), transparent);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      font-family: 'Cinzel', serif;
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--gold-400);
      letter-spacing: 1px;
    }

    .nav-menu { display: flex; gap: 35px; list-style: none; }

    .nav-link {
      color: var(--text-secondary);
      font-weight: 500;
      font-size: 0.95rem;
      position: relative;
      padding: 5px 0;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--gold-400), var(--gold-600));
      transition: width 0.3s ease;
    }

    .nav-link:hover::after, .nav-link.active::after { width: 100%; }
    .nav-link:hover, .nav-link.active { color: var(--gold-400); }

    .mobile-toggle { display: none; flex-direction: column; gap: 5px; cursor: pointer; padding: 5px; }
    .mobile-toggle span { width: 25px; height: 2px; background: var(--gold-400); transition: var(--transition); }

    /* HERO */
    .hero { padding: 60px 50px 40px; max-width: 1000px; margin: 0 auto; text-align: center; }

    .crumbs { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 20px; }
    .crumbs a { color: var(--text-muted); }
    .crumbs a:hover { color: var(--gold-400); }

    .hero .title {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      font-weight: 700;
      color: var(--gold-400);
      margin-bottom: 15px;
      line-height: 1.2;
    }

    .hero .sub { font-size: 1.1rem; color: var(--text-secondary); max-width: 650px; margin: 0 auto; line-height: 1.7; }

    /* PROGRESS BAR */
    .progress-container {
      max-width: 600px;
      margin: 30px auto 0;
    }

    .progress-bar {
      background: var(--dark-200);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      height: 12px;
      overflow: hidden;
    }

    .progress {
      background: linear-gradient(90deg, var(--gold-400), var(--gold-600));
      height: 100%;
      border-radius: 10px;
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(202,154,78,0.5);
    }

    .progress-label {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-top: 8px;
    }

    /* MAIN CONTAINER */
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 30px 60px;
    }

    /* NAV BUTTONS */
    .nav-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin: 40px 0;
    }

    .nav-btn {
      background: var(--glass);
      border: 1px solid var(--border-color);
      padding: 14px 24px;
      border-radius: var(--radius-md);
      color: var(--text-primary);
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-btn:hover {
      border-color: var(--border-hover);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .nav-btn.active {
      background: rgba(202,154,78,0.15);
      border-color: var(--gold-400);
      color: var(--gold-400);
      box-shadow: 0 0 20px rgba(202,154,78,0.2);
    }

    /* SECTIONS */
    .section {
      display: none;
      animation: fadeIn 0.4s ease;
    }

    .section.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* CONCEPT BOX */
    .concept-box {
      background: linear-gradient(135deg, rgba(202,154,78,0.15), rgba(173,133,70,0.1));
      border: 1px solid var(--gold-600);
      border-left: 4px solid var(--gold-400);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin: 24px 0;
    }

    .concept-box h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--gold-400);
      margin-bottom: 16px;
    }

    .concept-box p {
      color: var(--text-secondary);
      margin: 8px 0;
      font-size: 1rem;
    }

    .concept-box strong { color: var(--gold-300); }

    /* INTERACTIVE SECTION */
    .interactive-section {
      background: var(--glass);
      border: 2px dashed var(--border-color);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin: 24px 0;
    }

    .interactive-section h4 {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      color: var(--gold-400);
      margin-bottom: 16px;
    }

    /* EXAMPLE BOX */
    .example-box {
      background: rgba(34,197,94,0.1);
      border: 1px solid rgba(34,197,94,0.3);
      border-left: 4px solid var(--accent-green);
      border-radius: var(--radius-md);
      padding: 20px;
      margin: 20px 0;
    }

    .example-box h4 {
      color: var(--accent-green);
      margin-bottom: 12px;
      font-size: 1rem;
    }

    .example-box p {
      color: var(--text-secondary);
      margin: 6px 0;
    }

    .example-box strong { color: var(--gold-300); }

    /* MATH MACHINE */
    .math-machine {
      background: rgba(255,170,0,0.1);
      border: 2px solid rgba(255,170,0,0.3);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin: 20px 0;
      text-align: center;
    }

    .math-machine h3 {
      font-family: 'Playfair Display', serif;
      color: var(--accent-orange);
      margin-bottom: 16px;
    }

    .math-machine p { color: var(--text-secondary); margin: 10px 0; }

    .math-machine input[type="number"] {
      padding: 12px 16px;
      background: var(--dark-200);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      width: 100px;
      text-align: center;
    }

    .math-machine input:focus {
      border-color: var(--gold-400);
      outline: none;
    }

    #funcOutput {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.3rem;
      color: var(--gold-400);
      margin-top: 16px;
    }

    /* CANVAS */
    .slope-demo {
      width: 100%;
      height: 280px;
      background: var(--dark-200);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      margin: 16px 0;
      cursor: crosshair;
    }

    /* RESULT BOX */
    .result {
      background: var(--dark-200);
      border: 2px solid var(--accent-green);
      border-radius: var(--radius-md);
      padding: 16px;
      margin: 16px 0;
      color: var(--text-primary);
    }

    .result h4 { color: var(--gold-400); margin-bottom: 8px; }

    /* DICE */
    .dice-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }

    .dice {
      width: 70px;
      height: 70px;
      background: var(--dark-200);
      border: 2px solid var(--gold-400);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
      transition: var(--transition);
      color: var(--gold-400);
    }

    .dice:hover {
      transform: rotate(10deg) scale(1.1);
      box-shadow: 0 0 20px rgba(202,154,78,0.4);
    }

    /* QUIZ */
    .quiz-question {
      background: var(--dark-200);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: 20px;
      margin: 16px 0;
    }

    .quiz-question p {
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .quiz-question strong { color: var(--gold-400); }

    .quiz-question button {
      background: var(--glass);
      border: 1px solid var(--border-color);
      padding: 10px 20px;
      border-radius: var(--radius-sm);
      color: var(--text-primary);
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95rem;
      cursor: pointer;
      margin: 5px;
      transition: var(--transition);
    }

    .quiz-question button:hover {
      border-color: var(--gold-400);
      background: rgba(202,154,78,0.15);
    }

    /* BUTTONS */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--gold-500), var(--gold-600));
      border: 1px solid var(--gold-400);
      padding: 12px 24px;
      border-radius: var(--radius-md);
      color: var(--gold-100);
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 16px;
    }

    .btn-secondary {
      background: var(--glass);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
    }

    .btn-secondary:hover {
      border-color: var(--gold-400);
      background: rgba(202,154,78,0.15);
    }

    /* STATS */
    #probabilityStats {
      color: var(--text-secondary);
      margin-top: 16px;
    }

    #probabilityStats p { margin: 8px 0; }

    /* FOOTER */
    footer {
      padding: 40px 50px;
      border-top: 1px solid var(--border-color);
      text-align: center;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .navbar { padding: 15px 20px; }
      .nav-menu { 
        position: fixed; 
        top: 70px; 
        left: -100%; 
        width: 280px; 
        height: calc(100vh - 70px); 
        background: rgba(8,4,3,0.98); 
        flex-direction: column; 
        padding: 30px; 
        gap: 20px; 
        transition: left 0.3s ease; 
        border-right: 1px solid var(--border-color); 
      }
      .nav-menu.active { left: 0; }
      .mobile-toggle { display: flex; }
      .hero { padding: 40px 20px; }
      .hero .title { font-size: 2rem; }
      .container { padding: 0 20px 40px; }
      .nav-buttons { gap: 8px; }
      .nav-btn { padding: 12px 16px; font-size: 0.85rem; }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
    }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-container">
      <a class="logo" href="index.html">Tanvir Bakther</a>
      <div class="mobile-toggle" id="mobile-toggle"><span></span><span></span><span></span></div>
      <ul class="nav-menu" id="nav-menu">
        <li><a class="nav-link" href="index.html">Home</a></li>
        <li><a class="nav-link" href="photography.html">Photography</a></li>
        <li><a class="nav-link" href="analytics.html">Analytics</a></li>
        <li><a class="nav-link active" href="blog.html">Everyday Learning</a></li>
        <li><a class="nav-link" href="index.html#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <nav class="crumbs"><a href="index.html">Home</a> ¬∑ <a href="blog.html">Everyday Learning</a> ¬∑ Math Explorer</nav>
    <h1 class="title">üßÆ Math Explorer</h1>
    <p class="sub">From Functions to Probability ‚Äî Interactive learning made simple! Master essential math concepts with hands-on exercises and visual demonstrations.</p>
    
    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress" id="progress" style="width: 20%"></div>
      </div>
      <p class="progress-label">Section 1 of 5</p>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <div class="container">
    <!-- Navigation Buttons -->
    <div class="nav-buttons">
      <button class="nav-btn active" onclick="showSection('functions')">üè≠ Functions</button>
      <button class="nav-btn" onclick="showSection('derivatives')">üìà Slopes</button>
      <button class="nav-btn" onclick="showSection('optimization')">üéØ Find the Best</button>
      <button class="nav-btn" onclick="showSection('probability')">üé≤ Probability</button>
      <button class="nav-btn" onclick="showSection('practice')">üí™ Practice</button>
    </div>

    <!-- FUNCTIONS SECTION -->
    <div id="functions" class="section active">
      <div class="concept-box">
        <h2>üè≠ What's a Function?</h2>
        <p><strong>Think of a function like a magic machine!</strong></p>
        <p>‚Ä¢ You put a number IN one side</p>
        <p>‚Ä¢ The machine does something to it</p>
        <p>‚Ä¢ A new number comes OUT the other side</p>
      </div>

      <div class="math-machine">
        <h3>üîß Function Machine: f(x) = x¬≤</h3>
        <p>Input number: <input type="number" id="funcInput" value="3" onchange="updateFunction()"></p>
        <p>‚¨áÔ∏è <em>The machine squares it!</em> ‚¨áÔ∏è</p>
        <p id="funcOutput">Output: 9</p>
      </div>

      <div class="example-box">
        <h4>üåü Real Life Example:</h4>
        <p><strong>Pizza Area Function:</strong> f(radius) = œÄ √ó radius¬≤</p>
        <p>If your pizza radius is 5 inches, the area is œÄ √ó 5¬≤ = about 78 square inches!</p>
      </div>

      <div class="interactive-section">
        <h4>üéÆ Try Different Functions!</h4>
        <div class="btn-group">
          <button class="btn btn-secondary" onclick="setFunction('square')">Square It! (x¬≤)</button>
          <button class="btn btn-secondary" onclick="setFunction('double')">Double It! (2x)</button>
          <button class="btn btn-secondary" onclick="setFunction('add5')">Add 5! (x+5)</button>
        </div>
      </div>
    </div>

    <!-- DERIVATIVES SECTION -->
    <div id="derivatives" class="section">
      <div class="concept-box">
        <h2>üìà Derivatives = How Steep?</h2>
        <p><strong>Imagine you're riding a bike on a hill...</strong></p>
        <p>‚Ä¢ Going up a steep hill = positive steep number</p>
        <p>‚Ä¢ Going down = negative number</p>
        <p>‚Ä¢ Flat road = zero!</p>
        <p>The derivative tells you exactly how steep the hill is at any point!</p>
      </div>

      <div class="interactive-section">
        <h4>üö¥‚Äç‚ôÇÔ∏è Hill Climbing Simulator</h4>
        <canvas id="hillCanvas" class="slope-demo"></canvas>
        <p style="color: var(--text-muted); text-align: center;">Click anywhere on the hill to see how steep it is there!</p>
        <div id="steepnessResult"></div>
      </div>

      <div class="example-box">
        <h4>üßÆ Easy Derivative Rules:</h4>
        <p><strong>Power Rule:</strong> If f(x) = x¬≥, then f'(x) = 3x¬≤</p>
        <p><strong>Simple Pattern:</strong> Bring down the power, subtract 1 from the power</p>
        <p>Try it: x‚Å¥ becomes 4x¬≥, x¬≤ becomes 2x</p>
      </div>
    </div>

    <!-- OPTIMIZATION SECTION -->
    <div id="optimization" class="section">
      <div class="concept-box">
        <h2>üéØ Finding the Best (Optimization)</h2>
        <p><strong>Sometimes we want to find the BEST answer:</strong></p>
        <p>‚Ä¢ Highest point on a hill = maximum</p>
        <p>‚Ä¢ Lowest point in a valley = minimum</p>
        <p>‚Ä¢ We use derivatives to find these special spots!</p>
      </div>

      <div class="interactive-section">
        <h4>üèîÔ∏è Mountain Peak Finder</h4>
        <p style="color: var(--text-secondary);">Let's find the lowest point of: <strong style="color: var(--gold-400);">f(x) = x¬≤ - 6x + 5</strong></p>
        
        <div class="example-box" style="margin-top: 20px;">
          <p><strong>Step 1:</strong> Find the derivative: f'(x) = 2x - 6</p>
          <p><strong>Step 2:</strong> Set it equal to zero: 2x - 6 = 0</p>
          <p><strong>Step 3:</strong> Solve: x = 3</p>
          <p><strong>Step 4:</strong> Check if it's a minimum or maximum</p>
        </div>
        
        <button class="btn" onclick="showOptimizationGraph()">üìä Show Me the Answer!</button>
        <div id="optimizationResult"></div>
      </div>
    </div>

    <!-- PROBABILITY SECTION -->
    <div id="probability" class="section">
      <div class="concept-box">
        <h2>üé≤ Probability = How Likely?</h2>
        <p><strong>Probability tells us how likely something is to happen!</strong></p>
        <p>‚Ä¢ 0 = Impossible (like rolling a 7 on a normal die)</p>
        <p>‚Ä¢ 0.5 = 50/50 chance (like flipping heads on a coin)</p>
        <p>‚Ä¢ 1 = Definitely will happen (like the sun rising tomorrow)</p>
      </div>

      <div class="interactive-section">
        <h4>üé≤ Virtual Dice Roller</h4>
        <div class="dice-container">
          <div class="dice" id="dice1" onclick="rollDice()">üé≤</div>
          <div class="dice" id="dice2" onclick="rollDice()">üé≤</div>
        </div>
        <div style="text-align: center;">
          <button class="btn" onclick="rollDice()">üé≤ Roll the Dice!</button>
        </div>
        <div id="diceResults"></div>
        <div id="probabilityStats"></div>
      </div>

      <div class="example-box">
        <h4>üéØ Quick Probability Facts:</h4>
        <p><strong>One Die:</strong> Chance of rolling a 4 = 1/6 ‚âà 0.167</p>
        <p><strong>Two Dice:</strong> Chance of rolling a total of 7 = 6/36 = 1/6</p>
        <p><strong>Coin Flip:</strong> Chance of heads = 1/2 = 0.5</p>
      </div>
    </div>

    <!-- PRACTICE SECTION -->
    <div id="practice" class="section">
      <div class="concept-box">
        <h2>üí™ Practice Time!</h2>
        <p>Let's test what you've learned!</p>
      </div>

      <div class="interactive-section">
        <h4>üßÆ Quick Quiz</h4>
        
        <div class="quiz-question">
          <p><strong>Question 1:</strong> If f(x) = x¬≤, what is f(4)?</p>
          <button onclick="checkAnswer(1, 16)">16</button>
          <button onclick="checkAnswer(1, 8)">8</button>
          <button onclick="checkAnswer(1, 4)">4</button>
          <div id="answer1"></div>
        </div>

        <div class="quiz-question">
          <p><strong>Question 2:</strong> What's the derivative of x¬≥?</p>
          <button onclick="checkAnswer(2, '3x¬≤')">3x¬≤</button>
          <button onclick="checkAnswer(2, 'x¬≤')">x¬≤</button>
          <button onclick="checkAnswer(2, '3x')">3x</button>
          <div id="answer2"></div>
        </div>

        <div class="quiz-question">
          <p><strong>Question 3:</strong> What's the probability of rolling a 6 on a fair die?</p>
          <button onclick="checkAnswer(3, '1/6')">1/6</button>
          <button onclick="checkAnswer(3, '1/3')">1/3</button>
          <button onclick="checkAnswer(3, '1/2')">1/2</button>
          <div id="answer3"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>¬© <span id="year"></span> Tanvir Bakther ‚Ä¢ Math Explorer Interactive Learning Tool</p>
    <p style="margin-top: 8px;"><a href="blog.html">‚Üê Back to Everyday Learning</a></p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    document.getElementById('mobile-toggle').addEventListener('click', () => {
      document.getElementById('nav-menu').classList.toggle('active');
    });

    let currentSection = 'functions';
    let rollCount = 0;
    let diceSum = 0;

    function showSection(section) {
      // Hide all sections and remove active from buttons
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

      // Show selected section
      document.getElementById(section).classList.add('active');
      currentSection = section;

      // Activate corresponding button
      const buttons = document.querySelectorAll('.nav-btn');
      const sections = ['functions', 'derivatives', 'optimization', 'probability', 'practice'];
      const idx = sections.indexOf(section);
      if (idx >= 0) buttons[idx].classList.add('active');

      // Update progress bar
      const progress = ((idx + 1) / sections.length) * 100;
      document.getElementById('progress').style.width = progress + '%';
      document.querySelector('.progress-label').textContent = `Section ${idx + 1} of 5`;

      // Redraw canvas if derivatives section
      if (section === 'derivatives') {
        setTimeout(drawHill, 100);
      }
    }

    function updateFunction() {
      const input = document.getElementById('funcInput').value;
      const output = input * input;
      document.getElementById('funcOutput').innerHTML = `Output: ${output}`;
    }

    function setFunction(type) {
      const input = document.getElementById('funcInput').value;
      let output, description;

      switch(type) {
        case 'square':
          output = input * input;
          description = `${input}¬≤ = ${output}`;
          break;
        case 'double':
          output = input * 2;
          description = `2 √ó ${input} = ${output}`;
          break;
        case 'add5':
          output = parseInt(input) + 5;
          description = `${input} + 5 = ${output}`;
          break;
      }

      document.getElementById('funcOutput').innerHTML = `Output: ${output}<br><small style="color: var(--text-muted)">${description}</small>`;
    }

    function drawHill() {
      const canvas = document.getElementById('hillCanvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      canvas.width = canvas.offsetWidth;
      canvas.height = 280;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw grid
      ctx.strokeStyle = 'rgba(94,66,17,0.2)';
      ctx.lineWidth = 1;
      for (let x = 0; x < canvas.width; x += 40) {
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, canvas.height);
        ctx.stroke();
      }
      for (let y = 0; y < canvas.height; y += 40) {
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(canvas.width, y);
        ctx.stroke();
      }

      // Draw hill (parabola)
      ctx.beginPath();
      ctx.strokeStyle = '#ca9a4e';
      ctx.lineWidth = 4;

      for (let x = 0; x < canvas.width; x++) {
        const t = (x / canvas.width - 0.5) * 6;
        const y = t * t * 18 + 80;

        if (x === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      ctx.stroke();

      // Add gradient fill
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, 'rgba(202,154,78,0.1)');
      gradient.addColorStop(1, 'rgba(202,154,78,0)');
      
      ctx.beginPath();
      for (let x = 0; x < canvas.width; x++) {
        const t = (x / canvas.width - 0.5) * 6;
        const y = t * t * 18 + 80;
        if (x === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.lineTo(canvas.width, canvas.height);
      ctx.lineTo(0, canvas.height);
      ctx.closePath();
      ctx.fillStyle = gradient;
      ctx.fill();

      // Click event
      canvas.onclick = function(e) {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const t = (x / canvas.width - 0.5) * 6;
        const slope = 2 * t;

        let emoji, message;
        if (slope > 0.5) {
          emoji = 'üî∫';
          message = 'Going uphill!';
        } else if (slope < -0.5) {
          emoji = 'üîª';
          message = 'Going downhill!';
        } else {
          emoji = '‚û°Ô∏è';
          message = 'Almost flat!';
        }

        document.getElementById('steepnessResult').innerHTML = `
          <div class="result">
            <p>At this point, the steepness (derivative) is: <strong style="color: var(--gold-400)">${slope.toFixed(2)}</strong></p>
            <p>${emoji} ${message}</p>
          </div>
        `;
      };
    }

    function showOptimizationGraph() {
      document.getElementById('optimizationResult').innerHTML = `
        <div class="result" style="margin-top: 20px;">
          <h4>üìä The Answer:</h4>
          <p>The minimum point is at <strong style="color: var(--gold-400)">x = 3</strong></p>
          <p>The minimum value is f(3) = 3¬≤ - 6(3) + 5 = 9 - 18 + 5 = <strong style="color: var(--accent-green)">-4</strong></p>
          <p>So the lowest point on our hill is at <strong style="color: var(--gold-400)">(3, -4)</strong>! üèîÔ∏è</p>
        </div>
      `;
    }

    function rollDice() {
      const die1 = Math.floor(Math.random() * 6) + 1;
      const die2 = Math.floor(Math.random() * 6) + 1;

      // Animate dice
      const dice1El = document.getElementById('dice1');
      const dice2El = document.getElementById('dice2');
      dice1El.style.transform = 'rotate(360deg)';
      dice2El.style.transform = 'rotate(-360deg)';
      
      setTimeout(() => {
        dice1El.style.transform = '';
        dice2El.style.transform = '';
        dice1El.textContent = die1;
        dice2El.textContent = die2;
      }, 200);

      const sum = die1 + die2;
      rollCount++;
      diceSum += sum;

      document.getElementById('diceResults').innerHTML = `
        <div class="result" style="text-align: center;">
          You rolled: <strong style="color: var(--gold-400)">${die1} + ${die2} = ${sum}</strong>
        </div>
      `;

      const average = (diceSum / rollCount).toFixed(2);
      document.getElementById('probabilityStats').innerHTML = `
        <p>üéØ Rolls so far: <strong>${rollCount}</strong></p>
        <p>üìä Average roll: <strong style="color: var(--gold-400)">${average}</strong> <span style="color: var(--text-muted)">(Should approach 7 with many rolls!)</span></p>
      `;
    }

    function checkAnswer(questionNum, correctAnswer) {
      const answerDiv = document.getElementById(`answer${questionNum}`);

      if (event.target.textContent == correctAnswer) {
        answerDiv.innerHTML = '<div class="result" style="border-color: var(--accent-green);">‚úÖ Correct! Great job!</div>';
      } else {
        answerDiv.innerHTML = `<div class="result" style="border-color: var(--accent-red);">‚ùå Not quite. The correct answer is <strong>${correctAnswer}</strong></div>`;
      }
    }

    // Initialize
    window.onload = function() {
      setTimeout(drawHill, 100);
    };
  </script>
</body>
</html>
